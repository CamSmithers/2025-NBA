---
title: "Exploration"
author: "Cam Smithers"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Packages & Data

```{r}
library(tidyverse)
set.seed(123)
```

```{r}
source("/Users/camsmithers/Desktop/Camalytics/NBA/inR/Functions.R")

team_box_scores <- readRDS(
    "/Users/camsmithers/Desktop/Camalytics/NBA/Data-NBA/team_box_scores_updated.rds")
```

## Overview

### Summary Statistics

```{r}
summary(team_box_scores)
```

### Simple Cleaning

```{r}
#Coding variable for the outcome of the game
team_box_scores_1 <- team_box_scores %>%
    mutate(outcome = factor(if_else(offrating>defrating, "Win", "Loss")))
team_box_scores_dummy <- team_box_scores %>%
    select(gamedate,team, opponent, pts) %>%
    rename("team_dummy"="team", "opponent_dummy"="opponent", "pts_dummy"="pts")
#Inversely adding opponents points scored during game
team_box_scores_1 <- team_box_scores_1 %>%
    left_join(team_box_scores_dummy, 
              by = c("gamedate","team"="opponent_dummy", "opponent"="team_dummy")) %>%
    rename("pts_opp"="pts_dummy") %>%
    select(gamedate, team, opponent, pts, pts_opp, everything()) %>%
    mutate(gamemargin = pts - pts_opp,
           blowout_or_close = case_when(
               gamemargin > 10 ~ "Blowout Win",
               gamemargin <= 10 & gamemargin > 0 ~ "Close Win",
               gamemargin < 0 & gamemargin >= -10 ~ "Close Loss",
               gamemargin < -10 ~ "Blowout Loss"))
```

### Visualizations

```{r}

```
